(()=>{var e={};e.id=427,e.ids=[427],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7295:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>o});var a=s(9441),r=s(1498),l=s(6580),i=s.n(l),n=s(5511),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6980)),"/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/admin/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4159)),"/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9656)),"/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,3250,23)),"next/dist/client/components/not-found-error"]}],c=["/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/admin/dashboard/page.tsx"],x="/admin/dashboard/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7260:(e,t,s)=>{Promise.resolve().then(s.bind(s,1356))},7731:(e,t,s)=>{Promise.resolve().then(s.bind(s,8116))},1356:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(7685),r=s(3810),l=s(8100),i=s(1099),n=s(2722),d=s(6620),o=s(2295),c=s(1198);function x(){let[e,t]=(0,r.useState)({totalSellers:0,totalBuyers:0,totalOrders:0,totalProducts:0,totalRevenue:0,pendingOrders:0,completedOrders:0,recentSellers:[],recentOrders:[]}),[s,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{u()},[]);let u=async()=>{try{let e=await fetch("/api/admin/stats"),s=await e.json();s.success&&t(s.data)}catch(e){console.error("Failed to fetch stats:",e)}finally{x(!1)}},g=e=>{let t=Math.floor((new Date().getTime()-new Date(e).getTime())/1e3),s=t/31536e3;return s>1?Math.floor(s)+" years ago":(s=t/2592e3)>1?Math.floor(s)+" months ago":(s=t/86400)>1?Math.floor(s)+" days ago":(s=t/3600)>1?Math.floor(s)+" hours ago":(s=t/60)>1?Math.floor(s)+" minutes ago":Math.floor(t)+" seconds ago"};return s?a.jsx("div",{className:"flex items-center justify-center min-h-96",children:a.jsx("div",{className:"text-lg",children:"Loading statistics..."})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Platform overview and management"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[a.jsx(m,{icon:a.jsx(l.Z,{className:"text-purple-600",size:32}),title:"Total Sellers",value:e.totalSellers,bgColor:"bg-purple-50"}),a.jsx(m,{icon:a.jsx(i.Z,{className:"text-blue-600",size:32}),title:"Total Buyers",value:e.totalBuyers,bgColor:"bg-blue-50"}),a.jsx(m,{icon:a.jsx(n.Z,{className:"text-orange-600",size:32}),title:"Total Orders",value:e.totalOrders,bgColor:"bg-orange-50"}),a.jsx(m,{icon:a.jsx(d.Z,{className:"text-green-600",size:32}),title:"Total Revenue",value:`$${e.totalRevenue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,bgColor:"bg-green-50"}),a.jsx(m,{icon:a.jsx(o.Z,{className:"text-yellow-600",size:32}),title:"Pending Orders",value:e.pendingOrders,bgColor:"bg-yellow-50"}),a.jsx(m,{icon:a.jsx(c.Z,{className:"text-indigo-600",size:32}),title:"Completed Orders",value:e.completedOrders,bgColor:"bg-indigo-50"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow p-6 text-white",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Products Listed"}),a.jsx("p",{className:"text-4xl font-bold",children:e.totalProducts}),a.jsx("p",{className:"text-blue-100 mt-2",children:"Active photography services"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow p-6 text-white",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Completion Rate"}),(0,a.jsxs)("p",{className:"text-4xl font-bold",children:[e.totalOrders>0?Math.round(e.completedOrders/e.totalOrders*100):0,"%"]}),(0,a.jsxs)("p",{className:"text-green-100 mt-2",children:[e.completedOrders," of ",e.totalOrders," orders completed"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Sellers"}),a.jsx("div",{className:"space-y-4",children:0===e.recentSellers.length?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No sellers yet"}):e.recentSellers.map(e=>a.jsx(h,{name:e.name,email:e.email,time:g(e.createdAt),type:"seller"},e._id))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Orders"}),a.jsx("div",{className:"space-y-4",children:0===e.recentOrders.length?a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No orders yet"}):e.recentOrders.map(e=>a.jsx(p,{orderId:e.orderId,buyer:e.buyer.name,seller:e.items[0]?.seller?.name||"N/A",amount:e.totalAmount,status:e.status,time:g(e.createdAt)},e._id))})]})]})]})}function m({icon:e,title:t,value:s,bgColor:r}){return(0,a.jsxs)("div",{className:`${r} rounded-lg p-6 border border-gray-200`,children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:e})}),a.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s})]})}function h({name:e,email:t,time:s,type:r}){return(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b last:border-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${"seller"===r?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:e.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:e}),a.jsx("p",{className:"text-sm text-gray-500",children:t})]})]}),a.jsx("span",{className:"text-sm text-gray-500",children:s})]})}function p({orderId:e,buyer:t,seller:s,amount:r,status:l,time:i}){return(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b last:border-0",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:e}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[t," → ",s]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-green-600",children:["$",r.toFixed(2)]}),a.jsx("span",{className:"text-gray-400",children:"•"}),a.jsx("span",{className:"text-xs text-gray-500",children:i})]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${{pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800","in-progress":"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[l]}`,children:l})]})}},8116:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(7685),r=s(3810),l=s(5817),i=s(3161),n=s(7251),d=s(8100),o=s(1099),c=s(2295);let x=(0,s(5691).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var m=s(4654),h=s(8610),p=s(2015),u=s(2696);function g({children:e}){let[t,s]=(0,r.useState)(null),[g,b]=(0,r.useState)(!0),[f,y]=(0,r.useState)(!1),j=(0,l.useRouter)();(0,r.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();if("admin"!==t.data.user.role){j.push("/");return}s(t.data.user)}else j.push("/login")}catch(e){console.error("Failed to fetch user:",e),j.push("/login")}finally{b(!1)}},N=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),j.push("/login")}catch(e){console.error("Logout failed:",e)}};if(g)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"text-lg",children:"Loading..."})});if(!t)return null;let w=[{href:"/admin/dashboard",icon:n.Z,label:"Dashboard"},{href:"/admin/sellers",icon:d.Z,label:"Manage Sellers"},{href:"/admin/buyers",icon:o.Z,label:"Manage Buyers"},{href:"/admin/orders",icon:c.Z,label:"All Orders"},{href:"/admin/analytics",icon:x,label:"Analytics"}];return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:a.jsx("button",{onClick:()=>y(!f),className:"p-2 bg-white rounded-lg shadow-lg",children:f?a.jsx(m.Z,{size:24}):a.jsx(h.Z,{size:24})})}),a.jsx("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-gradient-to-b from-indigo-600 to-indigo-800 shadow-lg transform transition-transform duration-300 ease-in-out ${f?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-6 border-b border-indigo-500",children:a.jsx(i.default,{href:"/",className:"text-2xl font-bold text-white",children:"\uD83D\uDCF8 PhotoHire Admin"})}),a.jsx("div",{className:"p-6 border-b border-indigo-500",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-indigo-600 font-semibold",children:t.name.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-white",children:t.name}),a.jsx("p",{className:"text-xs text-indigo-200",children:"Administrator"})]})]})}),a.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:a.jsx("ul",{className:"space-y-2",children:w.map(e=>a.jsx("li",{children:(0,a.jsxs)(i.default,{href:e.href,className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-white hover:bg-indigo-700 transition-colors",onClick:()=>y(!1),children:[a.jsx(e.icon,{size:20}),a.jsx("span",{children:e.label})]})},e.href))})}),(0,a.jsxs)("div",{className:"p-4 border-t border-indigo-500",children:[(0,a.jsxs)(i.default,{href:"/admin/settings",className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-white hover:bg-indigo-700 transition-colors mb-2",children:[a.jsx(p.Z,{size:20}),a.jsx("span",{children:"Settings"})]}),(0,a.jsxs)("button",{onClick:N,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-white hover:bg-red-600 transition-colors",children:[a.jsx(u.Z,{size:20}),a.jsx("span",{children:"Logout"})]})]})]})}),a.jsx("main",{className:"lg:ml-64 min-h-screen",children:a.jsx("div",{className:"p-8",children:e})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>y(!1)})]})}},8100:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5691).Z)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},6620:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5691).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},7251:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5691).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},2295:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5691).Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},2015:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5691).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2722:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5691).Z)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]])},1198:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5691).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},1099:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5691).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},6980:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,s(599).createProxy)(String.raw`/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/admin/dashboard/page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default},4159:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,s(599).createProxy)(String.raw`/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/admin/layout.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[359,310],()=>s(7295));module.exports=a})();