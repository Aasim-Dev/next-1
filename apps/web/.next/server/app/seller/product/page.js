(()=>{var e={};e.id=145,e.ids=[145],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9302:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>n});var r=s(9441),a=s(1498),l=s(6580),i=s.n(l),c=s(5511),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);s.d(t,d);let n=["",{children:["seller",{children:["product",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,534)),"/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/seller/product/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,50)),"/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/seller/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9656)),"/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,3250,23)),"next/dist/client/components/not-found-error"]}],o=["/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/seller/product/page.tsx"],x="/seller/product/page",p={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/seller/product/page",pathname:"/seller/product",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},9859:(e,t,s)=>{Promise.resolve().then(s.bind(s,9977))},7170:(e,t,s)=>{Promise.resolve().then(s.bind(s,8495))},9977:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(7685),a=s(3810),l=s(5817),i=s(3161),c=s(7251),d=s(8100),n=s(2722);let o=(0,s(5691).Z)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var x=s(8610),p=s(2696),h=s(4654),u=s(2015);function m({children:e}){let[t,s]=(0,a.useState)(null),[m,g]=(0,a.useState)(!0),[f,y]=(0,a.useState)(!1),j=(0,l.useRouter)();(0,a.useEffect)(()=>{b()},[]);let b=async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();if("seller"!==t.data.user.role){j.push("/");return}s(t.data.user)}else j.push("/login")}catch(e){console.error("Failed to fetch user:",e),j.push("/login")}finally{g(!1)}},v=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),j.push("/login")}catch(e){console.error("Logout failed:",e)}};if(m)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"text-lg",children:"Loading..."})});if(!t)return null;let N=[{href:"/seller/dashboard",icon:c.Z,label:"Dashboard"},{href:"/seller/products",icon:d.Z,label:"My Products"},{href:"/seller/orders",icon:n.Z,label:"Orders"},{href:"/seller/add-product",icon:o,label:"Add Product"}];return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("nav",{className:"bg-white shadow-md fixed top-0 left-0 right-0 z-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>y(!f),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 mr-2",children:r.jsx(x.Z,{size:24})}),r.jsx(i.default,{href:"/seller/dashboard",className:"text-2xl font-bold text-purple-600",children:"\uD83D\uDCF8 PhotoHire Seller"})]}),r.jsx("div",{className:"hidden lg:flex items-center space-x-6",children:N.map(e=>(0,r.jsxs)(i.default,{href:e.href,className:"flex items-center space-x-2 text-gray-700 hover:text-purple-600 transition-colors",children:[r.jsx(e.icon,{size:20}),r.jsx("span",{className:"font-medium",children:e.label})]},e.href))}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"hidden md:block text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.name}),r.jsx("p",{className:"text-xs text-gray-500",children:"Seller Account"})]}),r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-purple-600 font-semibold",children:t.name.charAt(0).toUpperCase()})}),(0,r.jsxs)("button",{onClick:v,className:"hidden lg:flex items-center space-x-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(p.Z,{size:18}),r.jsx("span",{children:"Logout"})]})]})]})})}),f&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>y(!1)}),r.jsx("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg lg:hidden",children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"p-6 border-b flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Menu"}),r.jsx("button",{onClick:()=>y(!1),children:r.jsx(h.Z,{size:24})})]}),r.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:r.jsx("ul",{className:"space-y-2",children:N.map(e=>r.jsx("li",{children:(0,r.jsxs)(i.default,{href:e.href,className:"flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>y(!1),children:[r.jsx(e.icon,{size:20}),r.jsx("span",{children:e.label})]})},e.href))})}),(0,r.jsxs)("div",{className:"p-4 border-t",children:[(0,r.jsxs)(i.default,{href:"/seller/settings",className:"flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors mb-2",children:[r.jsx(u.Z,{size:20}),r.jsx("span",{children:"Settings"})]}),(0,r.jsxs)("button",{onClick:v,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[r.jsx(p.Z,{size:20}),r.jsx("span",{children:"Logout"})]})]})]})})]}),r.jsx("main",{className:"pt-20 min-h-screen",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})})]})}},8495:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(7685),a=s(3810),l=s(3161),i=s(461),c=s(5691);let d=(0,c.Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var n=s(9989);let o=(0,c.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var x=s(5943);function p(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)(!0),[p,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{u()},[]),(0,a.useEffect)(()=>{p&&m()},[p]);let u=async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();h(t.data.user)}}catch(e){console.error("Failed to fetch user:",e)}},m=async()=>{try{c(!0);let e=await fetch(`/api/product?sellerId=${p.id}`),s=await e.json();s.success&&t(s.data)}catch(e){console.error("Failed to fetch products:",e)}finally{c(!1)}},g=async(s,r)=>{try{let a=await fetch("/api/product",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:s,isActive:!r})}),l=await a.json();l.success?t(e.map(e=>e._id===s?{...e,isActive:!r}:e)):alert(l.error||"Failed to update product status")}catch(e){console.error("Failed to toggle status:",e),alert("Failed to update product status")}},f=async s=>{if(confirm("Are you sure you want to delete this product?"))try{let r=await fetch(`/api/product?productId=${s}`,{method:"DELETE"}),a=await r.json();a.success?(t(e.filter(e=>e._id!==s)),alert("Product deleted successfully")):alert(a.error||"Failed to delete product")}catch(e){console.error("Failed to delete product:",e),alert("Failed to delete product")}},y=e.filter(e=>e.isActive).length;return s?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"text-lg",children:"Loading products..."})}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Products"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your photography services and packages"})]}),(0,r.jsxs)(l.default,{href:"/seller/add-product",className:"flex items-center space-x-2 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:[r.jsx(i.Z,{size:20}),r.jsx("span",{children:"Add New Product"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-6 border border-purple-200",children:[r.jsx("p",{className:"text-purple-600 text-sm font-medium mb-1",children:"Total Products"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[y," active"]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200",children:[r.jsx("p",{className:"text-blue-600 text-sm font-medium mb-1",children:"Average Price"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",e.length>0?(e.reduce((e,t)=>e+t.price,0)/e.length).toFixed(0):0]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Across all products"})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 border border-green-200",children:[r.jsx("p",{className:"text-green-600 text-sm font-medium mb-1",children:"Total Revenue"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",0..toLocaleString()]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"From completed orders"})]})]}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCF8"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No products yet"}),r.jsx("p",{className:"text-gray-500 text-lg mb-6",children:"Create your first product to start selling"}),(0,r.jsxs)(l.default,{href:"/seller/add-product",className:"inline-flex items-center space-x-2 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:[r.jsx(i.Z,{size:20}),r.jsx("span",{children:"Create Your First Product"})]})]}):r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Product"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Category"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Price"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Duration"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:e.images&&e.images.length>0?e.images[0].url:"\uD83D\uDCF8"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Added ",new Date(e.createdAt).toLocaleDateString()]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium capitalize",children:e.category})}),(0,r.jsxs)("td",{className:"px-6 py-4 font-semibold text-gray-900",children:["$",e.price]}),(0,r.jsxs)("td",{className:"px-6 py-4 text-gray-700",children:[e.duration,"h"]}),r.jsx("td",{className:"px-6 py-4",children:e.isActive?r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Active"}):r.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Inactive"})}),r.jsx("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>g(e._id,e.isActive),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:e.isActive?"Deactivate":"Activate",children:e.isActive?r.jsx(d,{size:18}):r.jsx(n.Z,{size:18})}),r.jsx(l.default,{href:`/seller/products/${e._id}/edit`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(o,{size:18})}),r.jsx("button",{onClick:()=>f(e._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(x.Z,{size:18})})]})})]},e._id))})]})})})]})}},8100:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(5691).Z)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},9989:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(5691).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7251:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(5691).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},461:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(5691).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2015:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(5691).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2722:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(5691).Z)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]])},5943:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(5691).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},50:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let r=(0,s(599).createProxy)(String.raw`/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/seller/layout.tsx`),{__esModule:a,$$typeof:l}=r,i=r.default},534:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let r=(0,s(599).createProxy)(String.raw`/var/www/html/pro-1/photographer-marketplace-v2/apps/web/src/app/seller/product/page.tsx`),{__esModule:a,$$typeof:l}=r,i=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[359,310],()=>s(9302));module.exports=r})();